<glsl-live-coder-project version="0.9.3">
  <shaders>
    <vertex><![CDATA[attribute vec4 aVertex;
attribute vec4 aTexCoord;
varying vec4 vTexCoord;

void main(void)
{
    vTexCoord.x = aTexCoord.x;
    vTexCoord.y = 1.0 - aTexCoord.y;
    gl_Position = aVertex;
}
]]></vertex>
    <fragment><![CDATA[varying vec4 vTexCoord;
uniform sampler2D uTexture;
uniform float uT;
uniform vec2 uResolution;
uniform vec2 uMouse;
uniform float uF; // 1.0, 50.0, 11.0
uniform float uSpeed; // 1.0, 50.0, 11.0
uniform float uShadowStrength; // 0.1, 1.0, 0.333
uniform int uSteps; // 1, 40, 17

float stepwise(float x, int steps) {
  return floor(x * float(steps)) / float(steps);
}

void main() {
  float x = uF * stepwise(vTexCoord.x, uSteps);
  float offset = 0.15 * sin(uSpeed * uT + x);
  offset = stepwise(offset, 16);
  float shadow = 1.0
     + uShadowStrength * sin(uSpeed * uT + vTexCoord.x * uF);
  vec4 color = texture2D(uTexture,
    vec2(vTexCoord.x, vTexCoord.y + offset));
  float endshadow = clamp(6.0 * vTexCoord.x * color.a, 0.0, 1.0);
  gl_FragColor = vec4(color.rgb * shadow, endshadow * color.a);
}
]]></fragment>
  </shaders>
  <input>
    <image><![CDATA[iVBORw0KGgoAAAANSUhEUgAABLAAAAEsCAYAAADTvUpQAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAACY1JREFUeJzt3NFx2kAUQFGcoRPTAQWZ0igodEAvylf+gmMLj/auOOdfw2NnJYYrxNuyLAcAAAAAqPo1egAAAAAA+IyABQAAAECagAUAAABAmoAFAAAAQJqABQAAAECagAUAAABAmoAFAAAAQJqABQAAAECagAUAAABAmoAFAAAAQJqABQAAAECagAUAAABAmoAFAAAAQJqABQAAAECagAUAAABAmoAFAAAAQJqABQAAAECagAUAAABAmoAFAAAAQJqABQAAAECagAUAAABAmoAFAAAAQJqABQAAAECagAUAAABAmoAFAAAAQJqABQAAAECagAUAAABAmoAFAAAAQJqABQAAAECagAUAAABAmoAFAAAAQJqABQAAAECagAUAAABAmoAFAAAAQJqABQAAAECagAUAAABAmoAFAAAAQJqABQAAAECagAUAAABAmoAFAAAAQJqABQAAAECagAUAAABAmoAFAAAAQJqABQAAAECagAUAAABAmoAFAAAAQJqABQAAAEDa2/vH72X0EAAAAADwiF9gAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAAAJAmYAEAAACQJmABAAAAkCZgAQAA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]]></image>
  </input>
</glsl-live-coder-project>
